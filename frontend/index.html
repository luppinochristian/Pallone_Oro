<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Striker â€“ Road to the Pallone d'Oro</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš½</text></svg>">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- HEADER -->
<header id="main-header">
    <div class="logo">
        <span class="icon">âš½</span>
        <div>
            <h1>GOLDEN STRIKER</h1>
            <p>Road to the Pallone d'Oro</p>
        </div>
    </div>
    <nav id="main-nav" style="display:none">
        <button data-page="dashboard">ğŸ  Dashboard</button>
        <button data-page="game">âš½ Gioca</button>
        <button data-page="career">ğŸ“Š Carriera</button>
        <button data-page="transfer">ğŸ”„ Trasferimento</button>
        <button data-page="strutture">ğŸ—ï¸ Strutture</button>
        <button data-page="classifica">ğŸŸï¸ Classifica</button>
        <button data-page="agente">ğŸ¤ Agente</button>
        <button data-page="notizie" id="nav-notizie">ğŸ“° Notizie</button>

        <!-- MENU A TENDINA ESCI -->
        <div class="exit-dropdown-wrap" id="exit-dropdown-wrap">
            <button id="exit-menu-btn" class="btn-gold" onclick="toggleExitMenu(event)">Esci â–¾</button>
            <div class="exit-dropdown" id="exit-dropdown">
                <button class="exit-opt" onclick="goToCareerSelect()">
                    <span>ğŸ </span>
                    <div>
                        <div class="exit-opt-title">Menu Principale</div>
                        <div class="exit-opt-sub">Cambia carriera o creane una nuova</div>
                    </div>
                </button>
                <div class="exit-dropdown-divider"></div>
                <button class="exit-opt exit-opt-danger" onclick="doLogout()">
                    <span>ğŸšª</span>
                    <div>
                        <div class="exit-opt-title">Logout Completo</div>
                        <div class="exit-opt-sub">Disconnetti account e torna al login</div>
                    </div>
                </button>
            </div>
        </div>
    </nav>
</header>

<!-- ========== AUTH PAGE ========== -->
<div id="auth-page" class="page active">
  <div id="auth-page-inner">
    <div class="auth-container">
      <div class="auth-box" id="auth-box-main">
        <div class="auth-logo">
          <span class="ball">âš½</span>
          <h1>GOLDEN STRIKER</h1>
          <p>ROAD TO THE PALLONE D'ORO</p>
        </div>
        <div class="auth-tabs">
          <button class="auth-tab active" data-tab="login">Accedi</button>
          <button class="auth-tab" data-tab="register">Registrati</button>
        </div>

        <!-- LOGIN -->
        <div id="login-form">
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="l-email" placeholder="la-tua@email.com">
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="l-password" placeholder="Password">
          </div>
          <p class="error-msg" id="login-error"></p>
          <button class="btn-primary" onclick="doLogin()">âš½ Accedi</button>
          <p style="text-align:center;margin-top:12px">
            <a href="#" onclick="showForgot()" style="color:var(--text-dim);font-size:0.82rem">Password dimenticata?</a>
          </p>
        </div>

        <!-- REGISTER -->
        <div id="register-form" style="display:none">
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="r-email" placeholder="la-tua@email.com">
          </div>
          <div class="form-group">
            <label>Password <span style="color:var(--text-dim);font-size:0.75rem">(min 6 caratteri)</span></label>
            <input type="password" id="r-password" placeholder="Scegli una password">
          </div>
          <div class="form-group">
            <label>Conferma Password</label>
            <input type="password" id="r-password2" placeholder="Ripeti la password">
          </div>
          <p class="error-msg" id="register-error"></p>
          <button class="btn-primary" onclick="doRegister()">ğŸŒŸ Crea Account</button>
        </div>

        <!-- FORGOT PASSWORD -->
        <div id="forgot-form" style="display:none">
          <p style="color:var(--text-dim);margin-bottom:14px;font-size:0.85rem">Inserisci la tua email e ti manderemo le istruzioni per reimpostare la password.</p>
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="f-email" placeholder="la-tua@email.com">
          </div>
          <p class="error-msg" id="forgot-error"></p>
          <button class="btn-primary" onclick="doForgot()">ğŸ“§ Invia Istruzioni</button>
          <button onclick="showAuthTab('login')" style="width:100%;margin-top:8px;background:transparent;border:1px solid var(--border);color:var(--text-dim);padding:10px;border-radius:8px;cursor:pointer">â† Torna al Login</button>
        </div>
      </div>

      <!-- SELEZIONE CARRIERA (dopo login) -->
      <div class="auth-box" id="career-select-box" style="display:none;max-width:700px">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
          <div>
            <h2 style="color:var(--gold);margin:0">Le tue Carriere</h2>
            <p style="color:var(--text-dim);font-size:0.82rem;margin:4px 0 0" id="career-account-email"></p>
          </div>
          <button onclick="doLogout()" style="background:transparent;border:1px solid var(--border);color:var(--text-dim);padding:6px 14px;border-radius:8px;cursor:pointer;font-size:0.8rem">Esci</button>
        </div>
        <div id="careers-list"></div>
        <button class="btn-primary" id="btn-new-career" onclick="showCreateCareer()" style="width:100%;margin-top:16px">â• Nuova Carriera</button>
        <p id="careers-limit-msg" style="text-align:center;color:var(--text-dim);font-size:0.8rem;margin-top:8px;display:none">Hai raggiunto il limite di 5 carriere.</p>
      </div>

      <!-- CREA NUOVA CARRIERA -->
      <div class="auth-box" id="create-career-box" style="display:none;max-width:720px">
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px">
          <button onclick="showCareerSelect()" style="background:transparent;border:none;color:var(--text-dim);font-size:1.2rem;cursor:pointer">â†</button>
          <h2 style="color:var(--gold);margin:0">Nuova Carriera</h2>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px">
          <!-- Colonna sinistra: info -->
          <div>
            <div class="form-group">
              <label>Nome Carriera</label>
              <input type="text" id="c-career-name" placeholder="es. La mia prima carriera" value="Nuova Carriera">
            </div>
            <div class="form-group">
              <label>Nome Calciatore</label>
              <input type="text" id="c-name" placeholder="es. Marco Rossi">
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Sesso</label>
                <select id="c-gender" onchange="updateAvatar()">
                  <option value="male">âš½ Maschio</option>
                  <option value="female">âš½ Femmina</option>
                </select>
              </div>
              <div class="form-group">
                <label>EtÃ </label>
                <select id="c-age">
                  <option value="16">16 anni</option>
                  <option value="17" selected>17 anni</option>
                  <option value="18">18 anni</option>
                  <option value="19">19 anni</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label>NazionalitÃ </label>
              <select id="c-nationality">
                <option>Italy</option><option>Brazil</option><option>Argentina</option>
                <option>France</option><option>Spain</option><option>Germany</option>
                <option>Portugal</option><option>England</option><option>Netherlands</option>
                <option>Japan</option><option>USA</option><option>Nigeria</option>
              </select>
            </div>
          </div>

          <!-- Colonna destra: avatar + customizzazione -->
          <div>
            <!-- Anteprima Avatar SVG -->
            <div style="text-align:center;margin-bottom:12px">
              <div id="avatar-preview" style="width:110px;height:110px;margin:0 auto;border-radius:50%;overflow:hidden;border:3px solid var(--gold);background:var(--bg3)"></div>
            </div>

            <!-- CARNAGIONE -->
            <div class="form-group">
              <label>ğŸ¨ Carnagione</label>
              <div class="skin-picker" id="skin-picker">
                <div class="skin-swatch active" data-val="light"        style="background:#FDDBB4" onclick="selectSkin('light',this)"        title="Chiara"></div>
                <div class="skin-swatch"        data-val="medium_light" style="background:#E8B88A" onclick="selectSkin('medium_light',this)" title="Medio-chiara"></div>
                <div class="skin-swatch"        data-val="medium"       style="background:#C68642" onclick="selectSkin('medium',this)"       title="Media"></div>
                <div class="skin-swatch"        data-val="medium_dark"  style="background:#8D5524" onclick="selectSkin('medium_dark',this)"  title="Medio-scura"></div>
                <div class="skin-swatch"        data-val="dark"         style="background:#3B1A08" onclick="selectSkin('dark',this)"         title="Scura"></div>
              </div>
            </div>

            <!-- COLORE OCCHI con color wheel -->
            <div class="form-group">
              <label>ğŸ‘ï¸ Colore Occhi</label>
              <div class="eye-picker-outer" id="eye-picker-wrap">
                <!-- Riempito da JS: preset + color wheel -->
              </div>
            </div>

            <!-- ACCONCIATURA - STILE -->
            <div class="form-group">
              <label>âœ‚ï¸ Taglio</label>
              <div class="hair-style-picker" id="hair-style-picker">
                <!-- Riempito da JS -->
              </div>
            </div>
            <!-- ACCONCIATURA - COLORE -->
            <div class="form-group" id="hair-color-group">
              <label>ğŸ¨ Colore Capelli</label>
              <div class="hair-color-row" id="hair-color-picker">
                <!-- Riempito da JS -->
              </div>
            </div>
          </div>
        </div>

        <p class="error-msg" id="create-error" style="margin:10px 0"></p>
        <button class="btn-primary" onclick="doCreateCareer()" style="width:100%;margin-top:8px">ğŸŒŸ Inizia questa Carriera!</button>
      </div>

    </div><!-- fine auth-container -->
  </div>
</div>

<!-- ========== DASHBOARD PAGE ========== -->
<div id="dashboard-page" class="page">
    <div style="padding:24px;max-width:1400px;margin:0 auto">
        <div class="player-hero">
            <div class="player-avatar">
                <span id="player-avatar-icon">ğŸ‘¦</span>
            </div>
            <div class="player-info">
                <h2 id="player-name-display">-</h2>
                <div class="subtitle" id="player-subtitle">-</div>
                <div class="team-badge">ğŸŸï¸ <span id="player-team">-</span></div>
            </div>
            <div class="player-overall">
                <div class="overall-circle" id="overall-circle">
                    <span class="overall-value" id="overall-value">-</span>
                </div>
                <div class="overall-label">Overall</div>
            </div>
        </div>

        <div class="info-cards">
            <div class="info-card"><div class="val" id="info-mese">-</div><div class="lbl">Periodo</div></div>
            <div class="info-card"><div class="val" id="info-soldi">-</div><div class="lbl">Soldi</div></div>
            <div class="info-card"><div class="val" id="info-gol">-</div><div class="lbl">Gol Carriera</div></div>
            <div class="info-card"><div class="val" id="info-assist">-</div><div class="lbl">Assist Carriera</div></div>
            <div class="info-card"><div class="val" id="info-palloni">-</div><div class="lbl">ğŸ† Palloni d'Oro</div></div>
            <div class="info-card"><div class="val" id="info-struttura">-</div><div class="lbl">Struttura</div></div>
        </div>

        <div class="dashboard-main-layout">
            <div class="dashboard-left">
                <div id="dashboard-obiettivi" style="margin-bottom:20px"></div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>ğŸ“Š Statistiche Tecniche</h3>
                        <div class="stat-row" data-stat="tiro"><span class="stat-name">Tiro</span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                        <div class="stat-row" data-stat="velocita"><span class="stat-name">VelocitÃ </span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                        <div class="stat-row" data-stat="dribbling"><span class="stat-name">Dribbling</span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                        <div class="stat-row" data-stat="fisico"><span class="stat-name">Fisico</span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                        <div class="stat-row" data-stat="mentalita"><span class="stat-name">MentalitÃ </span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                    </div>
                    <div class="stat-card">
                        <h3>ğŸ”‹ Condizione Fisica</h3>
                        <div class="stat-row bar-green" data-special="energia"><span class="stat-name">Energia</span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                        <div class="stat-row bar-blue" data-special="morale"><span class="stat-name">Morale</span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                        <div class="stat-row bar-purple" data-special="popolarita"><span class="stat-name">PopolaritÃ </span><div class="stat-bar-bg"><div class="stat-bar" style="width:0%"></div></div><span class="stat-value">0</span></div>
                    </div>
                </div>
            </div>
            <div class="dashboard-right">
                <div class="dash-notizie-box">
                    <div class="dash-notizie-header">
                        <span>ğŸ“° Ultime Notizie</span>
                        <span id="dash-news-unread" class="news-badge" style="display:none"></span>
                    </div>
                    <div id="dash-notizie-lista"><p style="color:var(--text-dim);font-size:0.82rem;padding:8px 0">Gioca il primo mese per ricevere notizie!</p></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========== GAME PAGE ========== -->
<div id="game-page" class="page">
    <div id="game-page-inner" style="padding:24px;max-width:1400px;margin:0 auto">
        <div class="page-title">âš½ Gioca il <span>Mese</span></div>
        <p class="page-subtitle">Scegli fino a 3 azioni per questo mese, poi simula le partite</p>
        <div class="month-indicator">
            <div class="month-dots" id="month-dots"></div>
            <span id="current-month-text" style="font-size:0.9rem;color:var(--text-dim)"></span>
        </div>
        <div class="game-layout">
            <div class="actions-panel">
                <h3>ğŸ¯ Scegli le tue Azioni</h3>
                <p>Seleziona 1-3 azioni mensili. Le scelte influenzano stats, energia e performance in partita.</p>
                <div class="actions-grid" id="actions-grid"></div>
                <button class="play-btn" id="play-month-btn" disabled>âš½ Seleziona azioni</button>
            </div>
            <div class="game-sidebar">
                <div class="sidebar-card">
                    <h4>ğŸ“ˆ Status Attuale</h4>
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
                        <div class="info-card" style="padding:12px"><div class="val" id="g-overall">-</div><div class="lbl">Overall</div></div>
                        <div class="info-card" style="padding:12px"><div class="val" id="g-energia">-</div><div class="lbl">Energia</div></div>
                        <div class="info-card" style="padding:12px"><div class="val" id="g-morale">-</div><div class="lbl">Morale</div></div>
                        <div class="info-card" style="padding:12px"><div class="val" id="g-soldi">-</div><div class="lbl">Soldi</div></div>
                    </div>
                </div>
                <div class="sidebar-card">
                    <h4>ğŸ“‹ Ultime AttivitÃ </h4>
                    <ul class="log-list" id="recent-log"><li class="log-item" style="color:var(--text-dim)">Caricamento...</li></ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========== CAREER PAGE ========== -->
<div id="career-page" class="page">
    <div style="padding:24px;max-width:1200px;margin:0 auto">
        <div class="page-title">ğŸ“Š <span>Carriera</span></div>
        <p class="page-subtitle">Storico delle tue stagioni e posizioni al Pallone d'Oro</p>
        <table class="season-table">
            <thead><tr><th>Stagione</th><th>âš½ Gol</th><th>ğŸ¯ Assist</th><th>ğŸŸï¸ Partite</th><th>â­ Media Voto</th><th>ğŸ† Pallone d'Oro</th></tr></thead>
            <tbody id="season-table-body"><tr><td colspan="7" class="loading">Caricamento</td></tr></tbody>
        </table>
    </div>
</div>

<!-- ========== TRANSFER PAGE ========== -->
<div id="transfer-page" class="page">
    <div style="padding:24px;max-width:1200px;margin:0 auto">
        <div class="page-title">ğŸ”„ <span>Trasferimento</span></div>
        <p class="page-subtitle">Scegli la tua prossima squadra. Squadre migliori = piÃ¹ soldi e visibilitÃ !</p>
        <div class="teams-grid" id="teams-grid"><p class="loading">Caricamento squadre</p></div>
    </div>
</div>

<!-- ========== STRUTTURE PAGE ========== -->
<div id="strutture-page" class="page">
    <div style="padding:24px;max-width:900px;margin:0 auto">
        <div class="page-title">ğŸ—ï¸ <span>Struttura Personale</span></div>
        <p class="page-subtitle">Investi i tuoi soldi per migliorare la tua struttura di allenamento e crescere piÃ¹ velocemente.</p>
        <div id="strutture-container"><p class="loading">Caricamento</p></div>
    </div>
</div>

<!-- ========== CLASSIFICA PAGE ========== -->
<div id="classifica-page" class="page">
    <div style="padding:24px;max-width:1200px;margin:0 auto">
        <div class="page-title">ğŸŸï¸ <span>Classifica</span></div>
        <p class="page-subtitle">Classifica in tempo reale di ogni lega e Champions Cup</p>
        <div class="classifica-tabs">
            <button class="class-tab active" onclick="switchClassTab('lega')">ğŸ“‹ Lega</button>
            <button class="class-tab" onclick="switchClassTab('champions')">ğŸ† Champions Cup</button>
        </div>
        <div id="class-tab-lega">
            <div class="lega-filters" id="classifica-lega-filters"><p class="loading">Caricamento leghe...</p></div>
            <div id="classifica-table-wrap"><p class="loading">Seleziona una lega</p></div>
        </div>
        <div id="class-tab-champions" style="display:none">
            <div id="champions-wrap"><p class="loading">Caricamento Champions Cup...</p></div>
        </div>
    </div>
</div>

<!-- ========== AGENTE PAGE ========== -->
<div id="agente-page" class="page">
    <div style="padding:24px;max-width:900px;margin:0 auto">
        <div class="page-title">ğŸ¤ <span>Agente Personale</span></div>
        <p class="page-subtitle">Un buon agente negozia stipendi migliori e porta offerte dai top club</p>
        <div id="agente-current" style="margin-bottom:24px"></div>
        <div id="agente-lista"></div>
    </div>
</div>

<!-- ========== NOTIZIE PAGE ========== -->
<div id="notizie-page" class="page">
    <div style="padding:24px;max-width:900px;margin:0 auto">
        <div class="page-title">ğŸ“° <span>Notizie</span></div>
        <p class="page-subtitle">Gli ultimi aggiornamenti sulla tua carriera</p>
        <div id="notizie-lista"></div>
    </div>
</div>

<!-- ========== RESULTS MODAL ========== -->
<div class="modal-overlay" id="results-modal">
    <div class="modal">
        <h3>ğŸ“Š Risultati del Mese</h3>
        <ul class="result-list" id="results-list"></ul>
        <button class="modal-close" id="close-results">âœ… Continua</button>
    </div>
</div>

<script src="js/app.js"></script>
</body>
</html>
